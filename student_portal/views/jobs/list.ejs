<%- include('../partials/header') %>
<%- include('../partials/navbar') %>

<div class="container">
  <h2>Available Jobs</h2>
  
  <% if (success && success.length > 0) { %>
    <div class="alert alert-success">
      <%= success %>
    </div>
  <% } %>
  
  <div class="Jobs-list">
    <% if (Jobs && Jobs.length > 0) { %>
      <% Jobs.forEach(job => { %>
        <div class="job-card">
          <div class="job-header">
            <h3 class="job-title"><%= job.title %></h3>
            <div class="job-company"><%= job.company %></div>
          </div>
          
          <div class="job-details">
            <div class="job-location">
              <i class="fa fa-map-marker"></i> <%= job.location %>
            </div>
            
            <div class="job-salary">
              <i class="fa fa-money"></i> <%= job.salary %>
            </div>
            
            <div class="job-posted">
              <i class="fa fa-calendar"></i> Posted: <%= job.posted.toLocaleDateString() %>
            </div>
          </div>
          
          <div class="job-description">
            <%= job.description.substring(0, 150) + (job.description.length > 150 ? '...' : '') %>
          </div>
          
          <div class="job-actions">
            <a href="/Jobs/<%= job.id %>" class="btn btn-info">View Details</a>
          </div>
        </div>
      <% }); %>
    <% } else { %>
      <div class="no-Jobs">
        <p>No Jobs available at the moment. Please check back later.</p>
      </div>
    <% } %>
  </div>
</div>

<%- include('../partials/footer') %>