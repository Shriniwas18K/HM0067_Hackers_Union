<%- include('../partials/header') %>
<%- include('../partials/navbar') %>

<div class="container">
  <div class="profile-card">
    <h2>Complete Your Profile</h2>
    
    <% if (error && error.length > 0) { %>
      <div class="alert alert-danger">
        <%= error %>
      </div>
    <% } %>
    
    <form action="/profile/complete" method="POST" enctype="multipart/form-data">
      <div class="form-group">
        <label for="college">College/University</label>
        <input type="text" id="college" name="college" class="form-control" value="<%= currentUser.college || '' %>">
      </div>
      
      <div class="form-group">
        <label for="dob">Date of Birth</label>
        <input type="date" id="dob" name="dob" class="form-control" 
               value="<%= currentUser.dob ? new Date(currentUser.dob).toISOString().split('T')[0] : '' %>">
      </div>
      
      <div class="form-group">
        <label for="leetcode">LeetCode Profile URL</label>
        <input type="url" id="leetcode" name="leetcode" class="form-control" value="<%= currentUser.leetcode || '' %>">
      </div>
      
      <div class="form-group">
        <label for="github">GitHub Profile URL</label>
        <input type="url" id="github" name="github" class="form-control" value="<%= currentUser.github || '' %>">
      </div>
      
      <div class="form-group">
        <label for="linkedin">LinkedIn Profile URL</label>
        <input type="url" id="linkedin" name="linkedin" class="form-control" value="<%= currentUser.linkedin || '' %>">
      </div>
      
      <div class="form-group">
        <label for="resume">Resume (PDF)</label>
        <input type="file" id="resume" name="resume" class="form-control" accept=".pdf">
        <% if (currentUser.resume) { %>
          <small>You have already uploaded a resume. Upload again to replace it.</small>
        <% } %>
      </div>
      
      <button type="submit" class="btn btn-primary btn-block">Save Profile</button>
    </form>
  </div>
</div>

<%- include('../partials/footer') %>
